import path from "path";
import {
  init,
  sendTransaction,
  deployContractByName,
  getTransactionCode,
  emulator,
  shallPass,
  shallResolve,
  getScriptCode,
  executeScript,
  getContractAddress,
  getAccountAddress,
} from "@onflow/flow-js-testing";

const basePath = path.resolve(__dirname, "../{{cadenceFolder}}");

beforeEach(async () => {
  await emulator.start();
  init(basePath);
});

afterEach(async () => {
  await emulator.stop();
});

describe("Replicate Playground Accounts", () => {
    test("Create Accounts", async ()=>{
        // Playground project support 5 accounts, but nothing stops you from creating more by following the example laid out below
        const Alice = await getAccountAddress("Alice")
        const Bob = await getAccountAddress("Bob")
        const Charlie = await getAccountAddress("Charlie")
        const Dave = await getAccountAddress("Dave")
        const Eve = await getAccountAddress("Eve")

        console.log("Four Playground accounts were created with following addresses");
        console.log("Alice:", Alice)
        console.log("Bob:", Bob)
        console.log("Charlie:", Charlie)
        console.log("Dave:", Dave)
        console.log("Eve:", Eve)
    })
})

describe("Deployment", () => {
    {{#each contractsUnitTests}}
        {{{this}}}
    {{/each}}
})

describe("Transactions", () => {
    {{#each transactionsUnitTests}}
        {{{this}}}
    {{/each}}
})

describe("Scripts", () => {
    {{#each scriptsUnitTests}}
        {{{this}}}
    {{/each}}
})